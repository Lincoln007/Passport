@using LoowooTech.Passport.Model

<form id="client-form" action="/admin/client/edit?id=@(Model.ID)" method="post">
    <input type="hidden" name="ClientId" value="@(Model.ClientId)" />
    <input type="hidden" name="ClientSecret" value="@(Model.ClientSecret)" />
    <input type="hidden" name="CreateTime" value="@(Model.CreateTime)" />
    <table>
        @if (Model.ID > 0)
        { 
            <tr>
                <td>ID:</td>
                <td>@(Model.ClientId)</td>
            </tr>
            <tr>
                <td>密钥：</td>
                <td>@(Model.ClientSecret)</td>
            </tr>
        }
        <tr>
            <td>站点名称：</td>
            <td>
                
                <input type="text" name="Name" value="@(Model.Name)" style="width:300px;" />
            </td>
        </tr>
        <tr>
            <td>站点域名：</td>
            <td>
                <input type="text" name="Hosts" value="@(Model.Hosts)"  style="width:300px;" />
                多个用,隔开
            </td>
        </tr>
        <tr>
            <td>站点描述：</td>
            <td>
                <textarea name="Description" style="width:350px;height:60px;">@(Model.Description)</textarea></td>
        </tr>
        <tr>
            <td></td>
            <td><a href="#" id="client-form-btn-save" class="easyui-linkbutton" iconcls="icon-save">保存</a>
            </td>
        </tr>
    </table>
</form>
<script>
    (function () {
        $("#client-form-btn-save").click(function () {
            $("#client-form").form("submit", {
                success: function (data) {
                    if (data.result) {
                        console.log(data);
                        $.closeWindow();
                        $("#client-list").datagrid("reload");
                    }
                }
            });
            return false;
        });
    })();
</script>
